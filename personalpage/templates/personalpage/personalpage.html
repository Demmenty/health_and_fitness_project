{% extends 'personalpage/layout.html' %}
{% load static %}

{% block title %}Личный кабинет{% endblock %}

{% block content %}

<h1>Персональная страница клиента: {{ user.username }}</h1>

<!-- измерения за сегодня -->
{% if today_measure %}
    <h3>Данные измерений за сегодня</h3><br>
    
    <label>Дата<p>{{ today_measure.date }}</p></label><br>
    <p>{{ today_measure.weekday }}</p><br>
    <label>Самочувствие<p>{{ today_measure.feel }}</p></label><br>
    <label>Масса<p>{{ today_measure.weight }}</p></label><br>
    <label>Жирность<p>{{ today_measure.fat }}</p></label><br>
    <label>Пульс в покое<p>{{ today_measure.pulse }}</p></label><br>
    <label>Давление<p>{{ today_measure.pressure_upper }}/{{ today_measure.pressure_lower }}</p></label><br>
    {% if today_measure.comment %}
        <label>Комментарий<p>{{ today_measure.comment }}</p></label><br>
    {% endif %}

    <a href="{% url 'addmeasure' %}"><button class='btn btn-info'><i class='fas fa-plus-circle'></i>Редактировать записи</button></a>
    
{% else %}
    <p>За сегодня измерений не сделано.</p><br>
    <a href="{% url 'addmeasure' %}"><button class='btn btn-info'><i class='fas fa-plus-circle'></i>Добавить запись</button></a>
{% endif %}

<!-- измерения за неделю-->
<h3>Данные измерений за неделю</h3><br>

<div class="week_statistic">
    <table class="table table-bordered border-primary">
        <tr><td>Дата</td></tr>
        <tr><td>День недели</td></tr>
        <tr><td>Самочувствие</td></tr>
        <tr><td>Масса</td></tr>
        <tr><td>Жирность</td></tr>
        <tr><td>Пульс в покое</td></tr>
        <tr><td>Давление</td></tr>
    </table>
    {% for measure in week_set %}
    <table class="table table-bordered border-primary table-hover">
        <tr><td>{{ measure.date }}</td></tr>
        <tr><td>{{ measure.weekday }}</td></tr>
        <tr><td>{{ measure.feel }}</td></tr>
        <tr><td>{{ measure.weight }}</td></tr>
        <tr><td>{{ measure.fat }}</td></tr>
        <tr><td>{{ measure.pulse }}</td></tr>
        <tr><td>{{ measure.pressure_upper }}/{{ measure.pressure_lower }}</td></tr>
    </table>
    {% endfor %}
</div>

<div class="week_statistic">
    <table class="table table-bordered border-primary">
        <tr><td>Комментарий</td>
        {% for measure in week_set %}
        <td>{{ measure.comment }}</td>
        {% endfor %}
    </table>
    
</div>
    

{% endblock %}